(function(t){function s(s){for(var a,o,r=s[0],l=s[1],c=s[2],m=0,p=[];m<r.length;m++)o=r[m],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(s);while(p.length)p.shift()();return n.push.apply(n,c||[]),e()}function e(){for(var t,s=0;s<n.length;s++){for(var e=n[s],a=!0,r=1;r<e.length;r++){var l=e[r];0!==i[l]&&(a=!1)}a&&(n.splice(s--,1),t=o(o.s=e[0]))}return t}var a={},i={index:0},n=[];function o(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=a,o.d=function(t,s,e){o.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,s){if(1&s&&(t=o(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)o.d(e,a,function(s){return t[s]}.bind(null,a));return e},o.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(s,"a",s),s},o.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=s,r=r.slice();for(var c=0;c<r.length;c++)s(r[c]);var u=l;n.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"2c70":function(t,s,e){},3471:function(t,s,e){"use strict";e("cf65")},3571:function(t,s,e){},"3b8a":function(t,s,e){},"42a9":function(t,s,e){},"4b8e":function(t,s,e){"use strict";e("c4de")},5598:function(t,s,e){"use strict";e("7934")},"56d7":function(t,s,e){"use strict";e.r(s);e("e260"),e("e6cf"),e("cca6"),e("a79d");var a=e("2b0e"),i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("Top"),e("Index")],1)},n=[],o=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"top"},[t._m(0),e("div",{staticClass:"histroy"},[e("span",{staticClass:"el-icon-arrow-left",on:{click:t.back}}),e("span",{staticClass:"el-icon-arrow-right",on:{click:t.forward}})]),e("el-input",{staticClass:"search",attrs:{type:"text",placeholder:"请输入歌名或歌手","prefix-icon":"el-icon-search",size:"small",clearable:""},nativeOn:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.toResult.apply(null,arguments)}},model:{value:t.inputVal,callback:function(s){t.inputVal=s},expression:"inputVal"}}),t.$store.state.login.isLogin?e("div",{staticClass:"user"},[e("el-dropdown",[e("span",{staticClass:"el-dropdown-link pointer"},[e("img",{attrs:{src:t.$store.state.login.userInfo.avatarUrl,alt:""},on:{click:t.myHome}})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",[t._v("欢迎你，"+t._s(t.$store.state.login.userInfo.nickname))]),e("el-dropdown-item",{attrs:{icon:"el-icon-user"},nativeOn:{click:function(s){return t.myHome.apply(null,arguments)}}},[t._v("我的主页")]),e("el-dropdown-item",{attrs:{icon:"el-icon-switch-button"},nativeOn:{click:function(s){return t.outUser.apply(null,arguments)}}},[t._v("退出")])],1)],1)],1):t._e(),e("button",{on:{click:t.test}})],1)},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"logo"},[t._v(" Music "),e("span",[t._v("Hub")])])}],l=(e("498a"),e("ac1f"),e("5319"),e("0fb7"),e("450d"),e("f529")),c=e.n(l),u=(e("d3b7"),e("bc3a")),m=e.n(u),p=e("8c4f"),v=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("el-form",{ref:"loginForm",staticClass:"loginContainer",attrs:{model:t.loginForm,rules:t.rules}},[e("h3",{staticClass:"loginTitle"},[t._v("登入网易云音乐")]),e("el-form-item",{attrs:{prop:"username"}},[e("el-input",{attrs:{type:"text",placeholder:"请输入手机号"},model:{value:t.loginForm.username,callback:function(s){t.$set(t.loginForm,"username",s)},expression:"loginForm.username"}})],1),e("el-form-item",{attrs:{prop:"password"}},[e("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.loginForm.password,callback:function(s){t.$set(t.loginForm,"password",s)},expression:"loginForm.password"}})],1),e("el-form-item",[e("el-checkbox",{staticClass:"loginRemember",model:{value:t.checked,callback:function(s){t.checked=s},expression:"checked"}},[t._v("记住我")]),e("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:t.submitLogin}},[t._v("登入")])],1)],1)],1)},d=[],g={name:"Login",data:function(){return{loginForm:{username:localStorage.getItem("phone"),password:localStorage.getItem("pwd")},rules:{username:[{required:!0,message:"请输入手机号",trigger:"blur"},{type:"string",message:"请输入正确的手机号",len:11,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{submitLogin:function(){var t=this;this.$refs.loginForm.validate((function(s){if(!s)return t.$message.error("请按要求输入所有字段"),!1;yt({url:"/login/cellphone",params:{phone:t.loginForm.username,password:t.loginForm.password}}).then((function(s){var e=s.data;200==e.code?(t.$message.success("登入成功"),t.$store.commit("logIn"),t.$store.state.login.token=e.token,sessionStorage.setItem("token",t.$store.state.login.token),t.$store.state.login.userInfo=e.profile,sessionStorage.setItem("userInfo",[JSON.stringify(e.profile)]),t.$router.replace("/myhome"),console.log(e.profile),t.checked?(localStorage.setItem("phone",t.loginForm.username),localStorage.setItem("pwd",t.loginForm.password)):(localStorage.removeItem("phone"),localStorage.removeItem("pwd"))):502==e.code?(t.$message.error(e.msg),console.log(t)):t.$message.error("账号不存在！")})).catch((function(t){}))}))}}},f=g,_=(e("b3a5"),e("2877")),h=Object(_["a"])(f,v,d,!1,null,"746619a8",null),y=h.exports,C=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"discover_container"},[e("el-carousel",{attrs:{interval:4e3,type:"card",height:"200px"}},t._l(t.bannersImg,(function(t,s){return e("el-carousel-item",{key:s},[e("img",{attrs:{src:t.imageUrl,title:t.typeTitle}})])})),1),e("div",{staticClass:"midSong"},[e("h3",[t._v("推荐歌单")]),e("el-row",t._l(t.songMsg,(function(s,a){return e("el-col",{key:a,attrs:{span:4,offset:a>0?1:0}},[e("el-card",{staticClass:"pointer",attrs:{"body-style":{padding:"0px"}},nativeOn:{click:function(e){return t.toSongList(s.id)}}},[e("img",{staticClass:"image",attrs:{src:s.picUrl}}),e("div",{staticClass:"songName"},[e("span",[t._v(t._s(s.name))])])])],1)})),1)],1),e("div",{staticClass:"newSong"},[e("h3",[t._v("最新歌单")]),e("div",{staticClass:"songWrap"},t._l(t.songList,(function(s,a){return e("div",{key:a,staticClass:"newSong_box"},[e("div",{staticClass:"newSong_boxImg"},[e("img",{attrs:{src:s.picUrl,alt:""}}),e("span",{staticClass:"el-icon-video-play iconPlay",on:{click:function(e){return t.player(s.id,s.name)}}})]),e("div",{staticClass:"newSong_msg"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.song.artists[0].name))])])])})),0)]),e("div",{staticClass:"footMv"},[e("h3",[t._v("推荐MV")]),e("div",{staticClass:"mv_wrap"},t._l(t.mvList,(function(s,a){return e("div",{key:a,staticClass:"mvBox"},[e("div",{staticClass:"mvBox_Img"},[e("img",{attrs:{src:s.picUrl,alt:""}}),e("i",{staticClass:"el-icon-caret-right"},[t._v(t._s(s.playCount>1e5?"10w+":s.playCount))]),e("span",{staticClass:"el-icon-video-play iconPlay",on:{click:function(e){return t.toMvList(s.id,s.artistId)}}}),e("span",{staticClass:"time"},[t._v(t._s(t.$store.getters.formatDate(s.duration)))])]),e("div",{staticClass:"mvBox_Msg"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.artistName))])])])})),0)])],1)},b=[],k={name:"Discover",created:function(){var t=this;yt({url:"/banner"}).then((function(s){t.bannersImg=s.data.banners})),yt({url:"/personalized",params:{limit:5}}).then((function(s){t.songMsg=s.data.result})),yt({url:"/personalized/newsong",params:{limit:12}}).then((function(s){t.songList=s.data.result})),yt({url:"/personalized/mv"}).then((function(s){t.mvList=s.data.result}))},data:function(){return{bannersImg:[],songMsg:[],songList:[],mvList:[]}},methods:{player:function(t,s){this.$store.dispatch("aPlay",{id:t,name:s})},toSongList:function(t){this.$router.push({path:"/songlist",query:{id:t}})},toMvList:function(t,s){this.$router.push({path:"/mvlist",query:{id:t,artistId:s}})}}},w=k,$=(e("5598"),Object(_["a"])(w,C,b,!1,null,"0f97fe0d",null)),x=$.exports,M=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"recommandList"},[e("div",{staticClass:"introduce_box"},[e("div",{staticClass:"left_msg"},[e("img",{attrs:{src:t.listDescribe.coverImgUrl,alt:""}}),e("div",{staticClass:"tilteMsg"},[e("span",{staticClass:"pointer"},[t._v("精品歌单")]),e("h4",[t._v(" "+t._s(t.listDescribe.copywriter)+" ")]),e("p",[t._v(" "+t._s(t.listDescribe.description)+" ")])])]),e("div",{staticClass:"bg_mask"},[e("div"),e("img",{staticClass:"bg_img",attrs:{src:t.listDescribe.coverImgUrl,alt:""}})])]),e("div",{staticClass:"listClass"},[e("ul",{staticClass:"small"},[e("li",{class:{active:"全部"==t.tag},on:{click:function(s){t.tag="全部"}}},[t._v("全部")]),e("li",{class:{active:"欧美"==t.tag},on:{click:function(s){t.tag="欧美"}}},[t._v("欧美")]),e("li",{class:{active:"华语"==t.tag},on:{click:function(s){t.tag="华语"}}},[t._v("华语")]),e("li",{class:{active:"流行"==t.tag},on:{click:function(s){t.tag="流行"}}},[t._v("流行")]),e("li",{class:{active:"说唱"==t.tag},on:{click:function(s){t.tag="说唱"}}},[t._v("说唱")]),e("li",{class:{active:"摇滚"==t.tag},on:{click:function(s){t.tag="摇滚"}}},[t._v("摇滚")]),e("li",{class:{active:"民谣"==t.tag},on:{click:function(s){t.tag="民谣"}}},[t._v("民谣")]),e("li",{class:{active:"电子"==t.tag},on:{click:function(s){t.tag="电子"}}},[t._v("电子")]),e("li",{class:{active:"轻音乐"==t.tag},on:{click:function(s){t.tag="轻音乐"}}},[t._v(" 轻音乐 ")]),e("li",{class:{active:"影视原声"==t.tag},on:{click:function(s){t.tag="影视原声"}}},[t._v(" 影视原声 ")]),e("li",{class:{active:"ACG"==t.tag},on:{click:function(s){t.tag="ACG"}}},[t._v("ACG")]),e("li",{class:{active:"怀旧"==t.tag},on:{click:function(s){t.tag="怀旧"}}},[t._v("怀旧")])])]),e("div",{staticClass:"song_wrap"},t._l(t.songList,(function(s,a){return e("div",{key:a,staticClass:"song_box pointer",on:{click:function(e){return t.toSongList(s.id)}}},[e("div",{staticClass:"song_boxImg"},[e("p",[t._v("播放量:"+t._s(s.playCount))]),e("img",{attrs:{src:s.coverImgUrl,alt:""}})]),e("p",{staticClass:"song_boxTitle"},[t._v(t._s(s.name))])])})),0),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.pages,"current-page":this.curPage},on:{"current-change":t.update}})],1)},I=[],S={name:"Recommend",data:function(){return{tag:"全部",listDescribe:[],songList:[],pages:1,curPage:1}},watch:{tag:{immediate:!0,handler:function(){this.topData(),this.curPage=1,this.listData()}}},methods:{topData:function(){var t=this;yt({url:"/top/playlist/highquality",params:{limit:1,cat:this.tag}}).then((function(s){t.listDescribe=s.data.playlists[0]}))},listData:function(){var t=this;yt({url:"/top/playlist/",params:{limit:10,offset:10*(this.curPage-1),cat:this.tag}}).then((function(s){t.songList=s.data.playlists,t.pages=s.data.total}))},update:function(t){this.curPage=t,this.listData()},toSongList:function(t){this.$router.push({path:"/songlist",query:{id:t}})}}},L=S,P=(e("69cb"),Object(_["a"])(L,M,I,!1,null,"9569d5a6",null)),U=P.exports,D=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"song_container"},[e("div",{staticClass:"listClass"},[e("ul",{staticClass:"small"},[e("li",{class:{active:"全部"==t.tag},on:{click:function(s){t.tag="全部",t.typeId=0}}},[t._v(" 全部 ")]),e("li",{class:{active:"欧美"==t.tag},on:{click:function(s){t.tag="欧美",t.typeId=96}}},[t._v(" 欧美 ")]),e("li",{class:{active:"华语"==t.tag},on:{click:function(s){t.tag="华语",t.typeId=7}}},[t._v(" 华语 ")]),e("li",{class:{active:"日本"==t.tag},on:{click:function(s){t.tag="日本",t.typeId=8}}},[t._v(" 日本 ")]),e("li",{class:{active:"韩国"==t.tag},on:{click:function(s){t.tag="韩国",t.typeId=16}}},[t._v(" 韩国 ")])])]),t.isLoading?e("div",{staticClass:"load el-icon-loading"}):e("table",[t._m(0),e("tbody",t._l(t.songMsg,(function(s,a){return e("tr",{key:a,staticClass:"T_row"},[e("td",[t._v(t._s(a+1))]),e("td",[e("div",{staticClass:"songImg"},[e("img",{attrs:{src:s.album.picUrl}}),e("span",{staticClass:"el-icon-video-play iconPlay",on:{click:function(e){return t.player(s.id,s.name)}}})])]),e("td",[t._v(" "+t._s(s.name)+" "),0!=s.mvid?e("span",{staticClass:"pointer mv el-icon-video-camera",on:{click:function(e){return t.toMvList(s.mvid,s.artists[0].id)}}}):t._e()]),e("td",[t._v(t._s(s.artists[0].name))]),e("td",[t._v(t._s(s.album.name))]),e("td",[t._v(t._s(t.$store.getters.formatDate(s.duration)))])])})),0)])])},O=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("th"),e("th"),e("th",[t._v("音乐标题")]),e("th",[t._v("歌手")]),e("th",[t._v("专辑")]),e("th",[t._v("时长")])])}],N=(e("fb6a"),{name:"Songs",data:function(){return{tag:"全部",isLoading:!0,typeId:0,songMsg:[]}},watch:{tag:{immediate:!0,handler:function(){this.isLoading=!0,this.getSong()}}},methods:{getSong:function(){var t=this;yt({url:"/top/song",params:{type:this.typeId}}).then((function(s){var e=s.data.data;t.songMsg=e.slice(0,20),t.isLoading=!1}))},player:function(t,s){this.$store.dispatch("aPlay",{id:t,name:s})},toMvList:function(t,s){this.$router.push({path:"/mvlist",query:{id:t,artistId:s}})}}}),q=N,A=Object(_["a"])(q,D,O,!1,null,null,null),T=A.exports,j=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mvs-container"},[e("div",{staticClass:"filter_wrap"},[e("div",{staticClass:"place_wrap"},[e("span",{staticClass:"wrap_title"},[t._v("地区: ")]),e("ul",{staticClass:"small"},[e("li",{class:{active:"全部"==t.area},on:{click:function(s){t.area="全部"}}},[t._v(" 全部 ")]),e("li",{class:{active:"内地"==t.area},on:{click:function(s){t.area="内地"}}},[t._v(" 内地 ")]),e("li",{class:{active:"港台"==t.area},on:{click:function(s){t.area="港台"}}},[t._v(" 港台 ")]),e("li",{class:{active:"欧美"==t.area},on:{click:function(s){t.area="欧美"}}},[t._v(" 欧美 ")]),e("li",{class:{active:"日本"==t.area},on:{click:function(s){t.area="日本"}}},[t._v(" 日本 ")]),e("li",{class:{active:"韩国"==t.area},on:{click:function(s){t.area="韩国"}}},[t._v(" 韩国 ")])])]),e("div",{staticClass:"type_wrap"},[e("span",{staticClass:"wrap_title"},[t._v("类型:")]),e("ul",{staticClass:"small"},[e("li",{class:{active:"全部"==t.type},on:{click:function(s){t.type="全部"}}},[t._v(" 全部 ")]),e("li",{class:{active:"官方版"==t.type},on:{click:function(s){t.type="官方版"}}},[t._v(" 官方版 ")]),e("li",{class:{active:"原声"==t.type},on:{click:function(s){t.type="原声"}}},[t._v(" 原声 ")]),e("li",{class:{active:"现场版"==t.type},on:{click:function(s){t.type="现场版"}}},[t._v(" 现场版 ")]),e("li",{class:{active:"网易出品"==t.type},on:{click:function(s){t.type="网易出品"}}},[t._v(" 网易出品 ")])])]),e("div",{staticClass:"order_wrap"},[e("span",{staticClass:"wrap_title"},[t._v("排序:")]),e("ul",{staticClass:"small"},[e("li",{class:{active:"上升最快"==t.order},on:{click:function(s){t.order="上升最快"}}},[t._v(" 上升最快 ")]),e("li",{class:{active:"最热"==t.order},on:{click:function(s){t.order="最热"}}},[t._v(" 最热 ")]),e("li",{class:{active:"最新"==t.order},on:{click:function(s){t.order="最新"}}},[t._v(" 最新 ")])])])]),e("div",{staticClass:"mv_wrap"},t._l(t.songMsg,(function(s,a){return e("div",{key:a,staticClass:"mvBox"},[e("div",{staticClass:"mvBox_Img"},[e("img",{attrs:{src:s.cover,alt:""}}),e("i",{staticClass:"el-icon-caret-right"},[t._v(t._s(s.playCount>1e5?"10w+":s.playCount))]),e("span",{staticClass:"el-icon-video-play iconPlay",on:{click:function(e){return t.toMvList(s.id,s.artistId||854363)}}}),e("span",{staticClass:"time"},[t._v(t._s(t.$store.getters.formatDate(s.duration)))])]),e("div",{staticClass:"mvBox_Msg"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.artistName))])])])})),0),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":8,total:t.total,"current-page":t.page},on:{"current-change":t.update}})],1)},R=[],B={name:"Mv",data:function(){return{songMsg:[],total:0,page:1,limit:8,area:"全部",type:"全部",order:"上升最快"}},methods:{getSong:function(){var t=this;yt({url:"/mv/all",params:{area:this.area,type:this.type,order:this.order,limit:this.limit,offset:8*(this.page-1)}}).then((function(s){var e=s.data;t.songMsg=e.data,e.count&&(t.total=e.count)}))},update:function(t){this.page=t},toMvList:function(t,s){this.$router.push({path:"/mvlist",query:{id:t,artistId:s}})}},watch:{page:{immediate:!0,handler:function(){this.getSong()}},area:function(){this.page=1,this.getSong()},type:function(){this.page=1,this.getSong()},order:function(){this.page=1,this.getSong()}}},V=B,E=(e("d73a"),Object(_["a"])(V,j,R,!1,null,"0ebc98a9",null)),F=E.exports,H=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"result"},[e("h1",[t._v(" "+t._s(t.$route.query.title)),e("span",{staticClass:"count"},[t._v("共找到 "),e("span",[t._v(t._s(t.total))]),t._v(" 结果")])]),e("div",{staticClass:"musicBox"},[e("el-tabs",{on:{"tab-click":function(s){t.page=1}},model:{value:t.activeName,callback:function(s){t.activeName=s},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"歌曲",name:"song"}},[e("table",[e("thead",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}]},[e("th"),e("th",[t._v("音乐标题")]),e("th",[t._v("歌手")]),e("th",[t._v("专辑")]),e("th",[t._v("时长")])]),e("tbody",t._l(t.songs,(function(s,a){return e("tr",{key:a,staticClass:"T_row"},[e("td",[t._v(t._s(a+1))]),e("td",[e("el-link",{attrs:{type:"info"},nativeOn:{click:function(e){return t.player(s.id,s.name)}}},[t._v(t._s(s.name))]),0!=s.mvid?e("span",{staticClass:"pointer mv el-icon-video-camera",on:{click:function(e){return t.toMvList(s.mvid,s.artists[0].id)}}}):t._e()],1),e("td",[t._v(t._s(s.artists[0].name))]),e("td",[t._v("《"+t._s(s.album.name)+"》")]),e("td",[t._v(t._s(t.$store.getters.formatDate(s.duration)))])])})),0)])]),e("el-tab-pane",{attrs:{label:"歌单",name:"songList"}},[e("div",{staticClass:"song_wrap"},t._l(t.playlists,(function(s,a){return e("div",{key:a,staticClass:"song_box pointer",on:{click:function(e){return t.toSongList(s.id)}}},[e("div",{staticClass:"song_boxImg pointer"},[e("p",[t._v("播放量:"+t._s(s.playCount))]),e("img",{attrs:{src:s.coverImgUrl}})]),e("p",{staticClass:"song_boxTitle"},[t._v(t._s(s.name))])])})),0)]),e("el-tab-pane",{attrs:{label:"MV",name:"Mv"}},[e("div",{staticClass:"mv_wrap"},t._l(t.mvList,(function(s,a){return e("div",{key:a,staticClass:"mvBox"},[e("div",{staticClass:"mvBox_Img"},[e("img",{attrs:{src:s.cover,alt:""}}),e("i",{staticClass:"el-icon-caret-right"},[t._v(t._s(s.playCount>1e5?"10w+":s.playCount))]),e("span",{staticClass:"el-icon-video-play iconPlay",on:{click:function(e){return t.toMvList(s.id,s.artistId)}}}),e("span",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(s.duration)))])]),e("div",{staticClass:"mvBox_Msg"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.artistName))])])])})),0)])],1),e("el-empty",{directives:[{name:"show",rawName:"v-show",value:!t.total,expression:"!total"}],attrs:{description:"暂无搜索结果"}}),e("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}],attrs:{background:"",layout:"prev, pager, next","current-page":t.page,total:t.total},on:{"current-change":t.update}})],1)])},z=[],J=(e("4d90"),e("841c"),{name:"Result",data:function(){return{searchVal:this.$route.query.title,activeName:"song",type:1,limit:10,page:1,total:0,songs:[],mvid:0,playlists:[],mvList:[]}},filters:{formatDate:function(t){var s=t/1e3,e=(parseInt(s/60)+"").padStart(2,"0"),a=(parseInt(s%60)+"").padStart(2,"0");return e+":"+a}},watch:{$route:{immediate:!0,handler:function(){this.searchVal=this.$route.query.title,this.page=1,this.search()}},activeName:{handler:function(t){this.type="song"==t?1:"songList"==t?1e3:1004,this.search()}}},methods:{search:function(){var t=this;yt({url:"/search",params:{keywords:this.searchVal,limit:this.limit,type:this.type,offset:10*(this.page-1)}}).then((function(s){var e=s.data.result;1==t.type?(t.songs=e.songs,t.mvid=e.mvid,t.total=e.songCount):1e3==t.type?(t.playlists=e.playlists,t.total=e.playlistCount):(t.mvList=e.mvs,t.total=e.mvCount)}))},player:function(t,s){this.$store.dispatch("aPlay",{id:t,name:s})},update:function(t){this.page=t,this.search()},toSongList:function(t){this.$router.push({path:"/songlist",query:{id:t}})},toMvList:function(t,s){this.$router.push({path:"/mvlist",query:{id:t,artistId:s}})}}}),G=J,W=(e("c0a4"),Object(_["a"])(G,H,z,!1,null,"4bbc5c94",null)),Y=W.exports,K=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"detail_container"},[e("section",{staticClass:"detail_top"},[e("div",{staticClass:"top_left"},[e("img",{attrs:{src:t.playMsg.coverImgUrl}})]),e("section",{staticClass:"top_right"},[e("h2",{staticClass:"title"},[t._v(t._s(t.playMsg.name))]),e("p",{staticClass:"itme_msg"},[e("img",{attrs:{src:t.playMsg.creator.avatarUrl,alt:""}}),e("span",[t._v(t._s(t.playMsg.creator.nickname))]),e("span",{staticClass:"small"},[t._v(t._s(t.$store.getters.formatDay(t.playMsg.createTime,"xxxx-mm-dd")))]),t._v("创建 ")]),e("div",{staticClass:"tag"},[t._v(" 标签："),e("span",{staticClass:"small"},[t._l(t.playMsg.tags,(function(s,a){return e("span",{key:a},[t._v(t._s(s)+"、")])})),t.playMsg.tags.length?t._e():e("span",[t._v("暂无")])],2)]),e("p",{staticClass:"content"},[t._v(" 简介："),e("span",{staticClass:"small"},[t._v(t._s(t.playMsg.description))])])])]),e("el-tabs",{staticClass:"detail_bottom",model:{value:t.activeName,callback:function(s){t.activeName=s},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"歌曲列表",name:"first"}},[e("table",[e("thead",[e("th"),e("th"),e("th",[t._v("音乐标题")]),e("th",[t._v("歌手")]),e("th",[t._v("专辑")]),e("th",[t._v("时长")])]),e("tbody",t._l(t.tracks,(function(s,a){return e("tr",{key:a,staticClass:"T_row"},[e("td",[t._v(t._s(a+1))]),e("td",[e("div",{staticClass:"songImg"},[e("img",{attrs:{src:s.al.picUrl}}),e("span",{staticClass:"el-icon-video-play iconPlay",on:{click:function(e){return t.player(s.id,s.name)}}})])]),e("td",[t._v(" "+t._s(s.name)+" "),0!=s.mv?e("span",{staticClass:"pointer mv el-icon-video-camera",on:{click:function(e){return t.toMvList(s.mv,s.ar[0].id)}}}):t._e()]),e("td",[t._v(t._s(s.ar[0].name))]),e("td",[t._v(t._s(s.al.name))]),e("td",[t._v(t._s(t.$store.getters.formatDate(s.dt)))])])})),0)])]),e("el-tab-pane",{attrs:{label:"评论",name:"fourth"}},[e("section",{staticClass:"conmentWrap"},[e("div",{staticClass:"Comment"},[e("h4",[t._v(" 热门评论("),e("span",[t._v(t._s(t.hotAll))]),t._v(") ")]),t._l(t.hot,(function(s,a){return e("section",{key:a,staticClass:"commentBox"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:s.user.avatarUrl,alt:""}})]),e("section",{staticClass:"comments"},[e("p",{staticClass:"mainComment"},[e("span",{staticClass:"name"},[t._v(t._s(s.user.nickname)+":")]),e("br"),t._v(t._s(s.content)+" ")]),s.beReplied.length?e("p",{staticClass:"reply"},[e("span",{staticClass:"name"},[t._v(t._s(s.beReplied[0].user.nickname)+":")]),t._v(t._s(s.beReplied[0].content)+" ")]):t._e(),e("p",{staticClass:"small"},[t._v(t._s(t.$store.getters.formatDay(s.time)))])])])})),t.hotAll>10?e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.hotAll,"current-page":t.hotPage},on:{"current-change":t.hotUpdate}}):t._e()],2),e("el-divider",[e("i",{staticClass:"el-icon-caret-bottom"}),e("i",{staticClass:"el-icon-caret-bottom"}),e("i",{staticClass:"el-icon-caret-bottom"}),e("i",{staticClass:"el-icon-caret-bottom"})]),e("div",{staticClass:"Comment"},[e("h4",[t._v(" 最新评论("),e("span",[t._v(t._s(t.newAll))]),t._v(") ")]),t._l(t.news,(function(s,a){return e("section",{key:a,staticClass:"commentBox"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:s.user.avatarUrl}})]),e("section",{staticClass:"comments"},[e("p",{staticClass:"mainComment"},[e("span",{staticClass:"name"},[t._v(t._s(s.user.nickname)+":")]),e("br"),t._v(t._s(s.content)+" ")]),s.beReplied.length?e("p",{staticClass:"reply"},[e("span",{staticClass:"name"},[t._v(t._s(s.beReplied[0].user.nickname)+":")]),t._v(t._s(s.beReplied[0].content)+" ")]):t._e(),e("p",{staticClass:"small"},[t._v(t._s(t.$store.getters.formatDay(s.time)))])])])})),t.newAll>10?e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.newAll,"current-page":t.newPage},on:{"current-change":t.newUpdate}}):t._e()],2)],1)])],1)],1)},Q=[],X={name:"SongList",data:function(){return{activeName:"first",playMsg:[],tracks:[],hotAll:0,hot:[],hotPage:1,newAll:0,news:[],newPage:1}},methods:{getMsg:function(){var t=this;yt({url:"/playlist/detail",params:{id:this.$route.query.id}}).then((function(s){var e=s.data;t.playMsg=e.playlist,t.tracks=e.playlist.tracks}))},getHotComment:function(){var t=this;yt({url:"/comment/hot",params:{id:this.$route.query.id,limit:10,type:2,offset:10*(this.hotPage-1)}}).then((function(s){var e=s.data;t.hotAll=e.total,t.hot=e.hotComments}))},getNewComment:function(){var t=this;yt({url:"/comment/playlist",params:{id:this.$route.query.id,limit:10,offset:10*(this.newPage-1)}}).then((function(s){var e=s.data;t.newAll=e.total,t.news=e.comments}))},hotUpdate:function(t){this.hotPage=t,this.getHotComment()},newUpdate:function(t){this.newPage=t,this.getNewComment()},player:function(t,s){this.$store.dispatch("aPlay",{id:t,name:s})},toMvList:function(t,s){this.$router.push({path:"/mvlist",query:{id:t,artistId:s}})}},watch:{"$route.query.id":{immediate:!0,handler:function(){this.getMsg(),this.getHotComment(),this.getNewComment()}}}},Z=X,tt=(e("3471"),Object(_["a"])(Z,K,Q,!1,null,"619821a0",null)),st=tt.exports,et=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mv_container"},[e("section",{staticClass:"mv_top"},[e("div",{staticClass:"mv_box"},[e("div",{staticClass:"mv_play"},[e("h2",{staticClass:"mvName"},[e("span",{staticClass:"mvIcon"},[t._v("MV")]),t._v(t._s(t.mvMsg.name))]),e("video",{ref:"video",attrs:{controls:"",src:t.mvUrl,poster:t.mvMsg.cover,autoplay:""},on:{play:t.play}})]),e("div",{staticClass:"mv_detail"},[e("p",{staticClass:"author"},[e("img",{attrs:{src:t.autorMsg.picUrl,alt:""}}),e("span",{staticClass:"authorName"},[t._v(t._s(t.mvMsg.artistName))])]),e("span",{staticClass:"small"},[t._v(t._s(t.mvMsg.publishTime))]),e("p",{staticClass:"small"},[t._v(t._s(t.autorMsg.briefDesc||"暂无介绍"))])])]),e("div",{staticClass:"mv_recommend"},[e("h3",[t._v("相关推荐")]),e("div",{staticClass:"mv_wrap"},t._l(t.mvList,(function(s,a){return e("div",{key:a,staticClass:"mvBox"},[e("div",{staticClass:"mvBox_Img"},[e("img",{attrs:{src:s.cover}}),e("i",{staticClass:"el-icon-caret-right"},[t._v(t._s(s.playCount>1e5?"10w+":s.playCount))]),e("span",{staticClass:"el-icon-video-play iconPlay",on:{click:function(e){return t.toMvList(s.id,s.artistId)}}}),e("span",{staticClass:"time"},[t._v(t._s(t.$store.getters.formatDate(s.duration)))])]),e("div",{staticClass:"mvBox_Msg"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.artistName))])])])})),0)])]),e("section",{staticClass:"conmentWrap"},[e("div",{staticClass:"Comment"},[e("h4",[t._v(" 热门评论("),e("span",[t._v(t._s(t.hotAll))]),t._v(") ")]),t._l(t.hot,(function(s,a){return e("section",{key:a,staticClass:"commentBox"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:s.user.avatarUrl,alt:""}})]),e("section",{staticClass:"comments"},[e("p",{staticClass:"mainComment"},[e("span",{staticClass:"name"},[t._v(t._s(s.user.nickname)+":")]),e("br"),t._v(t._s(s.content)+" ")]),s.beReplied.length?e("p",{staticClass:"reply"},[e("span",{staticClass:"name"},[t._v(t._s(s.beReplied[0].user.nickname)+": ")]),t._v(t._s(s.beReplied[0].content)+" ")]):t._e(),e("p",{staticClass:"small"},[t._v(t._s(t.$store.getters.formatDay(s.time)))])])])}))],2),e("div",{staticClass:"Comment"},[e("h4",[t._v(" 最新评论("),e("span",[t._v(t._s(t.newAll))]),t._v(") ")]),t._l(t.news,(function(s,a){return e("section",{key:a,staticClass:"commentBox"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:s.user.avatarUrl}})]),e("section",{staticClass:"comments"},[e("p",{staticClass:"mainComment"},[e("span",{staticClass:"name"},[t._v(t._s(s.user.nickname)+":")]),e("br"),t._v(t._s(s.content)+" ")]),s.beReplied.length?e("p",{staticClass:"reply"},[e("span",{staticClass:"name"},[t._v(t._s(s.beReplied[0].user.nickname)+":")]),t._v(t._s(s.beReplied[0].content)+" ")]):t._e(),e("p",{staticClass:"small"},[t._v(t._s(t.$store.getters.formatDay(s.time)))])])])})),t.newAll>10?e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.newAll,"current-page":t.page},on:{"current-change":t.update}}):t._e()],2)])])},at=[],it={name:"MvList",data:function(){return{mvUrl:"",mvMsg:[],autorMsg:[],mvList:[],page:1,hotAll:0,hot:[],newAll:0,news:[]}},methods:{toMvList:function(t,s){this.$router.replace({path:"/mvlist",query:{id:t,artistId:s}})},getMvList:function(){var t=this;yt({url:"/simi/mv",params:{mvid:this.$route.query.id}}).then((function(s){var e=s.data.mvs;t.mvList=e}))},getMv:function(){var t=this;yt({url:"/mv/url",params:{id:this.$route.query.id}}).then((function(s){var e=s.data.data;t.mvUrl=e.url}))},getMvMsg:function(){var t=this;yt({url:"/mv/detail",params:{mvid:this.$route.query.id}}).then((function(s){var e=s.data.data;t.mvMsg=e}))},getManMsg:function(){var t=this;yt({url:"/artists",params:{id:this.$route.query.artistId}}).then((function(s){var e=s.data;t.autorMsg=e.artist}))},getCommpent:function(){var t=this;yt({url:"/comment/mv",params:{id:this.$route.query.id,limit:10,offset:10*(this.page-1)}}).then((function(s){var e=s.data;t.newAll=e.total,t.news=e.comments,t.hotAll=e.hotComments.length,t.hot=e.hotComments}))},update:function(t){this.page=t,this.getCommpent()},play:function(){this.$store.commit("playVideo")}},mounted:function(){this.$store.state.ref.video=this.$refs.video,console.log()},watch:{"$route.query.id":{immediate:!0,handler:function(){this.getMv(),this.getMvMsg(),this.getManMsg(),this.getMvList(),this.getCommpent()}}}},nt=it,ot=(e("e756"),Object(_["a"])(nt,et,at,!1,null,"ef642ecc",null)),rt=ot.exports,lt=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"myhome"},[e("div",{staticClass:"userMsg"},[e("div",{staticClass:"headPic"},[e("img",{attrs:{src:t.$store.state.login.userInfo.avatarUrl,alt:""}})]),e("div",{staticClass:"rightMsg"},[e("section",{staticClass:"userDetail"},[e("span",{staticClass:"nickName"},[t._v(t._s(t.$store.state.login.userInfo.nickname))]),e("span",{staticClass:"Lv"},[t._v(t._s(t.detail.level))]),e("span",{class:1==t.detail.gender?"el-icon-male":0==t.gender?"el-icon-female":""})]),e("el-divider"),e("section",{staticClass:"follow small"},[e("span",{staticClass:"following"},[e("span",[t._v(t._s(t.detail.follows))]),t._v("关注")]),e("span",{staticClass:"followed"},[e("span",[t._v(t._s(t.detail.followed))]),t._v("粉丝")])]),e("section",{staticClass:"myMsg small"},[e("p",[t._v(" 个人介绍:"),e("span",[t._v(t._s(t.detail.signature))])]),e("p",[t._v(" 创建日期:"),e("span",[t._v(t._s(t.$store.getters.formatDay(t.detail.createTime)))])])])],1)]),e("div",{staticClass:"mysongList"},[e("p",{staticClass:"myTitle"},[t._v(" 我创建/收藏的歌单"),e("span",[t._v("("+t._s(t.songList.length)+")")])]),e("div",{staticClass:"song_wrap"},t._l(t.songList,(function(s,a){return e("div",{key:a,staticClass:"song_box pointer",on:{click:function(e){return t.toSongList(s.id)}}},[e("div",{staticClass:"song_boxImg"},[e("p",[t._v("播放量:"+t._s(s.playCount))]),e("img",{attrs:{src:s.coverImgUrl,alt:""}})]),e("p",{staticClass:"song_boxTitle"},[t._v(t._s(s.name))])])})),0)])])},ct=[],ut={name:"MyHome",data:function(){return{detail:{gender:1,signature:"",level:"",createTime:"",listenSongs:"",follows:"",followed:""},songList:[]}},mounted:function(){var t=this;yt({url:"/user/detail",params:{uid:this.$store.state.login.userInfo.userId}}).then((function(s){var e=s.data;t.detail.gender=e.profile.gender,t.detail.signature=e.profile.signature,t.detail.follows=e.profile.follows,t.detail.followed=e.profile.followeds,t.detail.level=e.level,t.detail.createTime=e.createTime,t.detail.listenSongs=e.listenSongs})),yt({url:"/user/playlist",params:{uid:this.$store.state.login.userInfo.userId}}).then((function(s){var e=s.data;console.log(e),t.songList=e.playlist}))},methods:{toSongList:function(t){this.$router.push({path:"/songlist",query:{id:t}})}}},mt=ut,pt=(e("4b8e"),Object(_["a"])(mt,lt,ct,!1,null,"6d0d573f",null)),vt=pt.exports,dt=[{path:"/",redirect:"/discover"},{path:"/login",component:y},{path:"/discover",name:"Discover",component:x},{path:"/recommend",name:"Recommend",component:U},{path:"/songs",name:"Songs",component:T},{path:"/mv",name:"Mv",component:F},{path:"/result",name:"Result",component:Y},{path:"/songlist",name:"SongList",component:st},{path:"/mvlist",name:"MvList",component:rt},{path:"/myhome",name:"MyHome",component:vt}],gt=(e("99af"),e("b0c0"),e("2f62"));a["default"].use(gt["a"]);var ft=new gt["a"].Store({state:{musicUrl:sessionStorage.getItem("musicUrl"),musicName:sessionStorage.getItem("musicName"),login:{userInfo:JSON.parse(sessionStorage.getItem("userInfo")),token:sessionStorage.getItem("token"),isLogin:sessionStorage.getItem("isLogin")},ref:{audio:"",video:""}},getters:{formatDate:function(){return function(t){var s=t/1e3,e=(parseInt(s/60)+"").padStart(2,"0"),a=(parseInt(s%60)+"").padStart(2,"0");return e+":"+a}},formatDay:function(){return function(t,s){var e=new Date(t),a=(e.getFullYear()+"").padStart(2,"0"),i=(e.getMonth()+1+"").padStart(2,"0"),n=(e.getDate()+"").padStart(2,"0"),o=(e.getHours()+"").padStart(2,"0"),r=(e.getMinutes()+"").padStart(2,"0"),l=(e.getSeconds()+"").padStart(2,"0");return"xxxx-mm-dd"==s?"".concat(a,"-").concat(i,"-").concat(n):"".concat(a,"-").concat(i,"-").concat(n,"-").concat(o,":").concat(r,":").concat(l)}}},actions:{aPlay:function(t,s){var e=t.commit;yt({url:"/song/url",params:{id:s.id}}).then((function(t){var a=t.data.data;e("PLAY",{data:a,name:s.name})}))}},mutations:{PLAY:function(t,s){var e=s.data,a=s.name;e[0].url?(sessionStorage.setItem("musicName",a),t.musicName=a,sessionStorage.setItem("musicUrl",e[0].url),t.musicUrl=e[0].url):window.vue.$message.error("无版权")},playAudio:function(t){document.title="▶ ".concat(t.musicName),t.ref.video&&t.ref.video.pause()},playVideo:function(t){t.ref.audio&&t.ref.audio.pause()},logIn:function(t){t.login.isLogin=!0,sessionStorage.setItem("isLogin",!0)},logOut:function(t){t.login.isLogin=!1,sessionStorage.removeItem("isLogin")}},modules:{}});a["default"].use(p["a"]);var _t=new p["a"]({routes:dt});_t.beforeEach((function(t,s,e){var a=ft.state.login.token;"/myhome"==t.path?a?e():(c.a.error({message:"请先登录!"}),e("/login")):e()}));var ht=_t;function yt(t){var s=m.a.create({baseURL:"https://www.codeman.ink/api"});return s.interceptors.request.use((function(t){return t}),(function(t){return c.a.error({message:"请求超时!"}),Promise.reject(t)})),s.interceptors.response.use((function(t){if(403!=t.data.code)return t;c.a.error({message:"身份失效!"}),sessionStorage.removeItem("token"),ht.push("/login")})),s(t)}var Ct={name:"Top",data:function(){return{inputVal:sessionStorage.getItem("inputVal")}},watch:{},methods:{back:function(){this.$router.back()},forward:function(){this.$router.forward()},toResult:function(){this.inputVal.trim()?(sessionStorage.setItem("inputVal",this.inputVal),this.$router.push({name:"Result",query:{title:this.inputVal}})):this.$message.warning("请输入信息")},toLogin:function(){this.$router.replace("/login")},outUser:function(){var t=this;this.$confirm("确定退出账号吗?","提示",{confirmButtonText:"对",cancelButtonText:"手滑了",type:"warning"}).then((function(){yt({url:"/logout"}),t.$store.commit("logOut"),t.$store.state.login.userInfo=[],t.$store.state.login.token="",sessionStorage.removeItem("userInfo"),sessionStorage.removeItem("token"),t.$router.replace("/discover"),t.$message({type:"success",message:"你成功退出！"})})).catch((function(){t.$message({type:"info",message:"没退呢"})}))},myHome:function(){this.$router.push({path:"/myhome"})}}},bt=Ct,kt=(e("704e"),Object(_["a"])(bt,o,r,!1,null,"b405cfec",null)),wt=kt.exports,$t=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"index"},[e("nav",[e("ul",[e("router-link",{attrs:{to:"/discover","active-class":"active",tag:"li"}},[e("i",{staticClass:"el-icon-house"}),t._v("发现音乐")]),e("router-link",{attrs:{to:"/recommend","active-class":"active",tag:"li"}},[e("i",{staticClass:"el-icon-folder-checked"}),t._v("推荐歌单")]),e("router-link",{attrs:{to:"/songs","active-class":"active",tag:"li"}},[e("i",{staticClass:"el-icon-headset"}),t._v("最新音乐")]),e("router-link",{attrs:{to:"/mv","active-class":"active",tag:"li"}},[e("i",{staticClass:"el-icon-video-play"}),t._v("最新M V")])],1)]),e("div",{staticClass:"main"},[e("keep-alive",[e("router-view")],1)],1),e("audio",{ref:"audio",staticStyle:{width:"100%"},attrs:{src:this.$store.state.musicUrl,controls:"",autoplay:""},on:{play:t.play,pause:t.pause}})])},xt=[],Mt={name:"Index",data:function(){return{}},mounted:function(){this.$store.state.ref.audio=this.$refs.audio},methods:{pause:function(){document.title="MusicHub"},play:function(){this.$store.commit("playAudio")}}},It=Mt,St=(e("c967"),Object(_["a"])(It,$t,xt,!1,null,"6f02063a",null)),Lt=St.exports,Pt={name:"app",data:function(){return{}},methods:{},components:{Top:wt,Index:Lt}},Ut=Pt,Dt=Object(_["a"])(Ut,i,n,!1,null,null,null),Ot=Dt.exports,Nt=(e("0fae"),e("9e2f")),qt=e.n(Nt);a["default"].use(qt.a),a["default"].prototype.$message=c.a;e("c64d");a["default"].config.productionTip=!1,window.vue=new a["default"]({router:ht,store:ft,render:function(t){return t(Ot)}}).$mount("#app")},"69cb":function(t,s,e){"use strict";e("9b0e")},"704e":function(t,s,e){"use strict";e("3b8a")},"75e3":function(t,s,e){},7934:function(t,s,e){},"9b0e":function(t,s,e){},b3a5:function(t,s,e){"use strict";e("2c70")},c0a4:function(t,s,e){"use strict";e("42a9")},c4de:function(t,s,e){},c64d:function(t,s,e){},c967:function(t,s,e){"use strict";e("75e3")},cf65:function(t,s,e){},d73a:function(t,s,e){"use strict";e("3571")},e756:function(t,s,e){"use strict";e("ed79")},ed79:function(t,s,e){}});
//# sourceMappingURL=index.720e5d7a.js.map